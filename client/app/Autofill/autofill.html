<style>
	#md-table-filter:focus{
    	outline:0px !important;
    	border: 0;
    	padding: 0;
    	-webkit-appearance:none;
	}
	#md-table-filter{
		outline:0px !important;
		border: 0;
    	padding: 0;
    	-webkit-appearance:none;
	}
	#file-input { display: none; }
</style>
<!-- ========================================= DIALOG ========================================= -->
<dialog id="create-element-dialog" class="mdl-dialog" >
	<form ng-submit="vm.saveElement(vm.elementType)">
		<div class="mdl-dialog__title" style="padding: 24px 24px 10px">
			<h5>Create {{ vm.elementType == 'text' ? 'textfield' : vm.elementType }}</h5>
		</div>
		<div class="mdl-dialog__content" style="height: 200px ;overflow-y: auto"> <!-- CSS STYLE!!!!!!! -->
			<div id="create-element-dialog-text">

				<!-- ============================================== textfield ============================================ -->
				<div id="create-text" ng-if ="vm.elementType=='text'" ng-init='vm.upgradeDom()'>
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-textfield-fieldname" class="mdl-textfield__input" ng-model='vm.textfield.fieldName' type="text" ng-required="true"/>
						<label class="mdl-textfield__label" for="dialog-input-textfield-fieldname">Name</label>
					</div>
					
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-default" class="mdl-textfield__input" ng-model='vm.textfield.default' />
						<label class="mdl-textfield__label" for="dialog-input-default">Default</label>
					</div>
				</div>
				<!-- ============================================== checkbox ============================================ -->
				<div id="create-checkbox" ng-if ="vm.elementType == 'checkbox' " ng-init='vm.upgradeDom()'>
					
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-checkbox-fieldname" class="mdl-textfield__input" ng-model='vm.checkbox.fieldName' type="text" ng-required="true"/>
						<label class="mdl-textfield__label" for="dialog-input-checkbox-fieldname">Name</label>
					</div>
					
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-checkbox-fieldname" class="mdl-textfield__input" ng-model='vm.checkbox.label' type="text" ng-required="true"/>
						<label class="mdl-textfield__label" for="dialog-input-checkbox-fieldname">Display label</label>
					</div>
					
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<label for="dialog-input-checkbox-default">Default: </label>
						<label class="mdl-checkbox mdl-js-checkbox" for="dialog-input-checkbox-default">
							<input type="checkbox" id="dialog-input-checkbox-default" class="mdl-checkbox__input" ng-model='vm.checkbox.default'>
							<span class="mdl-checkbox__label">Checked {{vm.checkbox.default}}</span>
						</label>
					</div>
				</div>
				<!-- ============================================== radio ============================================ -->
				<div id="create-radio" ng-if ="vm.elementType == 'radio' " ng-init='vm.upgradeDom()'>
					
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-radio-fieldname" class="mdl-textfield__input" ng-model='vm.radio.fieldName' type="text" ng-required="true"/>
						<label class="mdl-textfield__label" for="dialog-input-radio-fieldname">Name</label>
					</div>
					
					<div>
						<label for="dialog-input-radio-options">Options: </label>
						<button type="button" class="mdl-button mdl-js-button mdl-button--icon" ng-click="vm.addOption()">
							<i class="material-icons">add</i>
						</button>
						<button type="button" class="mdl-button mdl-js-button mdl-button--icon" ng-click="vm.removeOption(vm.elementType)">
							<i class="material-icons">remove</i>
						</button>

						<div ng-repeat = "x in vm.getTimes(vm.numOfOptions) track by $index" >
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">     
								 <input id="'dialog-input-radio-option-'+($index+1)}}" class="mdl-textfield__input" ng-model='vm.radio.options[$index]' type="text" ng-required="true" ng-init='vm.upgradeDom()'/>
								 <label class="mdl-textfield__label" for="'dialog-input-radio-option-'+($index+1)}}">option {{$index+1}}</label>
							</div>     
						</div>
					</div>

					<div>
						<label for="dialog-input-radio-default">Default: </label>
						<select id="dialog-input-radio-default" ng-model="vm.radio.default" ng-required="true">
							<option ng-repeat="option in vm.radio.options track by $index" value="{{option}}" >option {{$index+1}}: {{option}}</option> 
						</select>
					</div>

					<div>
						<label for="dialog-input-radio-display">Display: </label>
						<select id="dialog-input-radio-display" ng-model="vm.radio.display" ng-required="true">
							<option value="radioInline" >inline</option>
							<option value="radioMultiline" >vertical</option> 
						</select>
					</div>
				</div>
				<!-- ============================================== dropdown ============================================ -->
				<div id="create-dropdown" ng-if ="vm.elementType == 'dropdown' " ng-init='vm.upgradeDom()'>
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input id="dialog-input-dropdown-fieldname" class="mdl-textfield__input" ng-model='vm.dropdown.fieldName' type="text" ng-required="true"/>
						<label class="mdl-textfield__label" for="dialog-input-dropdown-fieldname">Name</label>
					</div>

					<div>
						<label for="dialog-input-dropdown-options">Options: </label>
						<button type="button" class="mdl-button mdl-js-button mdl-button--icon" ng-click="vm.addOption()">
							<i class="material-icons">add</i>
						</button>
						<button type="button" class="mdl-button mdl-js-button mdl-button--icon" ng-click="vm.removeOption(vm.elementType)">
							<i class="material-icons">remove</i>
						</button>

						<div ng-repeat = "x in vm.getTimes(vm.numOfOptions) track by $index" >
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">     
								 <input id="'dialog-input-dropdown-option-'+($index+1)}}" class="mdl-textfield__input" ng-model='vm.dropdown.options[$index]' type="text" ng-required="true" ng-init='vm.upgradeDom()'/>
								 <label class="mdl-textfield__label" for="'dialog-input-dropdown-option-'+($index+1)}}">option {{$index+1}}</label>
							</div>     
						</div>
					</div>

					<div>
						<label for="dialog-input-dropdown-default">Default: </label>
						<select id="dialog-input-dropdown-default" ng-model="vm.dropdown.default" ng-required="true">
							<option ng-repeat="option in vm.dropdown.options track by $index" value="{{option}}" >option {{$index+1}}: {{option}}</option> 
						</select>
					</div>
				</div>
			</div>
		</div>
		<div class="mdl-dialog__actions">
			<button id="cancel" type="button" class="mdl-button" ng-click="vm.closeDialog()">Cancel</button>
			<div class="mdl-layout-spacer"></div>
			<button id="save" type="submit" class="mdl-button">Save</button>
		</div>
	</form>
</dialog>
<!-- ========================================= SNACK BAR ========================================= -->
<div id="autofill-feedbackMessage" aria-live="assertive" aria-atomic="true" aria-relevant="text" class="mdl-js-snackbar mdl-snackbar">
	<div class="mdl-snackbar__text"></div>
	<button class="mdl-snackbar__action" type="button"></button>
</div>
<!-- ========================================= UI-GRID ========================================= -->
<div id="body"  class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
	<!--================================== Ng-include nav bars ==================================-->
	<header class="mdl-layout__header" ng-include="'app/Shared/topNav/topNavBar.html'"></header>
	<!--====================================== new data table ===================================-->
	<md-content>
		<div class="mdl-card">
			<!--Toolbar-->
			<md-toobar class="md-table-toolbar md-default">
				<div class="md-toolbar-tools">
					<span ng-hide="vm.table.options.rowSelection && (vm.table.selected.length || vm.table.options.showFilter)">
						Autofill Records
					</span>
					<span ng-show="vm.table.options.rowSelection && vm.table.selected.length">
						{{vm.table.selected.length}} {{vm.table.selected.length > 1 ? 'rows':'row'}} selected
					</span>
					<!-- vm.table.options.showFilter && !vm.table.selected.length -->
					<span ng-show='vm.table.options.showFilter && !vm.table.selected.length' class='ng-valid flex ng-dirty ng-valid-parse'>
							<i class="material-icons" ng-if="!vm.table.options.showFilter">search</i>
							<input id='md-table-filter' type="text" ng-model='vm.query' ng-model-options='vm.table.options.filterOptions' placeholder='search...' class='ng-valid ng-touched ng-dirty'/>
					</span>

					<span flex=''></span>
					<!-- filter button -->
					<md-button type="button" class="md-icon-button" ng-click="vm.table.options.showFilter = !vm.table.options.showFilter ; vm.query = ''">
						<i class="material-icons" ng-if="!vm.table.options.showFilter">search</i>
						<i class="material-icons" ng-if="vm.table.options.showFilter">clear</i>
					</md-button>
					<!-- delete button -->
					<md-button ng-show="vm.table.options.rowSelection && vm.table.selected.length" type="button" class="md-icon-button" ng-click="vm.deleteSelected()">
						<i class="material-icons">delete</i>
					</md-button>
					<!-- refresh button -->
					<md-button class="md-icon-button md-primary" type="button" ng-click="vm.reset()" >
						<i class="material-icons">refresh</i>
					</md-button>
					<!-- IMPORT button -->
					<md-button class='md-primary'>
        				<label for="file-input">Import</label>  
      				</md-button>
      				<input id="file-input" type="file" accept='.csv' onchange="vm.validateCsvImport(this.value)">
					<!-- EXPORT menu -->
			        <md-menu>
	            		<md-button class="md-primary" ng-click="$mdOpenMenu()">Export</md-button>
						<md-menu-content>
								<md-menu-item ng-repeat="exportOption in vm.table.options.exportOptions">
									<md-button ng-click="vm.exportCSV(exportOption)">
										Export {{exportOption}}
									</md-button>
								</md-menu-item>
						</md-menu-content>
	    			</md-menu>
				</div>

			<!--Data Table-->	
				<md-table-container>
					<table md-table md-row-select="vm.table.options.rowSelection" multiple="{{vm.table.options.multiSelect}}" ng-model="vm.table.selected" class="md-table md-row-select">
						<thead md-head md-order = "vm.table.options.orderBy" md-on-reorder="logOrder">
							<tr md-row>
								<th md-column md-order-by="{{header}}" ng-repeat='header in vm.table.dataHeader track by $index'>
									<span>{{header}}</span>
								</th>
							</tr>
						</thead>
						<tbody md-body>
							<tr md-row md-select="row" md-auto-select ng-repeat = 'row in vm.table.data | orderBy: vm.table.options.orderBy | limitTo: vm.table.options.rowLimit : vm.table.options.rowLimit * (vm.table.options.page - 1) '>
								<td md-cell ng-repeat = 'header in vm.table.dataHeader track by $index'>{{row[header]}}</td>
							</tr>
						</tbody>
					</table>
				</md-table-container>

				<md-table-pagination md-limit="vm.table.options.rowLimit" md-limit-options="vm.table.options.limitOptions" md-page="vm.table.options.page" md-total="{{vm.table.data.length}}" md-page-select md-boundary-links></md-table-pagination>	



	</div>
</div>

   
